"""Integration tests for v2 API endpoints (auto-generated).

DO NOT EDIT THIS FILE. All changes must be made in the generator.
"""

from __future__ import annotations

import pytest

{% for tool in v2_tools %}

class TestV2{{ tool.singular | title | replace('_', '') }}:
    """Tests for v2 {{ tool.singular }} endpoint."""

{% if "GET" in tool.methods %}
    def test_list_{{ tool.plural }}(self, authenticated_client):
        """Verify listing {{ tool.plural }} via v2 API returns valid data."""
        data = authenticated_client.v2_get("{{ tool.path }}")
        # v2 may return list directly or wrapped
        assert data is not None
        if isinstance(data, list):
            pass  # Good, got a list
        elif isinstance(data, dict):
            pass  # Some v2 endpoints wrap in object
        else:
            pytest.fail(f"Unexpected response type: {type(data)}")
{% endif %}

{% endfor %}
