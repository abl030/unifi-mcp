"""Integration tests for stat endpoints (auto-generated).

DO NOT EDIT THIS FILE. All changes must be made in the generator.
"""

from __future__ import annotations

import httpx
import pytest


class TestStatStatalarms:
    """Tests for stat/alarm endpoint."""

    def test_list_stat_alarms(self, authenticated_client):
        """Verify stat_alarms endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/alarm")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)

    def test_stat_alarms_fields(self, authenticated_client):
        """Verify expected fields are present in stat_alarms data."""
        try:
            data = authenticated_client.api_get("stat/alarm")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        if not data:
            pytest.skip("No stat_alarms data available")
        first = data[0]
        expected_fields = ['_id', 'ap', 'ap_displayName', 'ap_model', 'ap_name']
        for field in expected_fields:
            assert field in first, f"Missing field '{field}' in stat_alarms record"


class TestStatAuthorizations:
    """Tests for stat/authorization endpoint."""

    def test_list_authorizations(self, authenticated_client):
        """Verify authorizations endpoint returns valid data."""
        try:
            data = authenticated_client.api_post("stat/authorization", {})
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatCountrycodes:
    """Tests for stat/ccode endpoint."""

    def test_list_country_codes(self, authenticated_client):
        """Verify country_codes endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/ccode")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatCurrentchannels:
    """Tests for stat/current_channel endpoint."""

    def test_list_current_channels(self, authenticated_client):
        """Verify current_channels endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/current-channel")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatDevices:
    """Tests for stat/device endpoint."""

    def test_list_devices(self, authenticated_client):
        """Verify devices endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/device")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)

    def test_devices_fields(self, authenticated_client):
        """Verify expected fields are present in devices data."""
        try:
            data = authenticated_client.api_get("stat/device")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        if not data:
            pytest.skip("No devices data available")
        first = data[0]
        expected_fields = ['_id', '_uptime', 'adopt_ip', 'adopt_url', 'adoptable_when_upgraded']
        for field in expected_fields:
            assert field in first, f"Missing field '{field}' in devices record"


class TestStatDevicesbasic:
    """Tests for stat/device_basic endpoint."""

    def test_list_devices_basic(self, authenticated_client):
        """Verify devices_basic endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/device-basic")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatDynamicdnsstats:
    """Tests for stat/dynamicdns endpoint."""

    def test_list_dynamic_dns_stats(self, authenticated_client):
        """Verify dynamic_dns_stats endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/dynamicdns")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatStatevents:
    """Tests for stat/event endpoint."""

    def test_list_stat_events(self, authenticated_client):
        """Verify stat_events endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/event")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)

    def test_stat_events_fields(self, authenticated_client):
        """Verify expected fields are present in stat_events data."""
        try:
            data = authenticated_client.api_get("stat/event")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        if not data:
            pytest.skip("No stat_events data available")
        first = data[0]
        expected_fields = ['_id', 'ap', 'ap_displayName', 'ap_model', 'ap_name']
        for field in expected_fields:
            assert field in first, f"Missing field '{field}' in stat_events record"


class TestStatHealth:
    """Tests for stat/health endpoint."""

    def test_list_health(self, authenticated_client):
        """Verify health endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/health")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)

    def test_health_fields(self, authenticated_client):
        """Verify expected fields are present in health data."""
        try:
            data = authenticated_client.api_get("stat/health")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        if not data:
            pytest.skip("No health data available")
        first = data[0]
        expected_fields = ['status', 'subsystem']
        for field in expected_fields:
            assert field in first, f"Missing field '{field}' in health record"


class TestStatPortforwardstats:
    """Tests for stat/portforward endpoint."""

    def test_list_port_forward_stats(self, authenticated_client):
        """Verify port_forward_stats endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/portforward")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatReport:
    """Tests for stat/report endpoint."""

    def test_list_report(self, authenticated_client):
        """Verify report endpoint returns valid data."""
        try:
            data = authenticated_client.api_post("stat/report/hourly.site", {})
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Report endpoint not available: {e}")
        assert isinstance(data, list)


class TestStatRogueaps:
    """Tests for stat/rogueap endpoint."""

    def test_list_rogue_aps(self, authenticated_client):
        """Verify rogue_aps endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/rogueap")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)

    def test_rogue_aps_fields(self, authenticated_client):
        """Verify expected fields are present in rogue_aps data."""
        try:
            data = authenticated_client.api_get("stat/rogueap")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        if not data:
            pytest.skip("No rogue_aps data available")
        first = data[0]
        expected_fields = ['age', 'ap_mac', 'band', 'bssid', 'bw']
        for field in expected_fields:
            assert field in first, f"Missing field '{field}' in rogue_aps record"


class TestStatRoutingstats:
    """Tests for stat/routing endpoint."""

    def test_list_routing_stats(self, authenticated_client):
        """Verify routing_stats endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/routing")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatSessions:
    """Tests for stat/session endpoint."""

    def test_list_sessions(self, authenticated_client):
        """Verify sessions endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/session")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatSitedpi:
    """Tests for stat/sitedpi endpoint."""

    def test_list_site_dpi(self, authenticated_client):
        """Verify site_dpi endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/sitedpi")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatClients:
    """Tests for stat/sta endpoint."""

    def test_list_clients(self, authenticated_client):
        """Verify clients endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/sta")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)

    def test_clients_fields(self, authenticated_client):
        """Verify expected fields are present in clients data."""
        try:
            data = authenticated_client.api_get("stat/sta")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        if not data:
            pytest.skip("No clients data available")
        first = data[0]
        expected_fields = ['_id', '_is_guest_by_usw', '_last_seen_by_usw', '_uptime_by_usw', 'anomalies']
        for field in expected_fields:
            assert field in first, f"Missing field '{field}' in clients record"


class TestStatClientdpi:
    """Tests for stat/stadpi endpoint."""

    def test_list_client_dpi(self, authenticated_client):
        """Verify client_dpi endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/stadpi")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)


class TestStatSysinfo:
    """Tests for stat/sysinfo endpoint."""

    def test_list_sysinfo(self, authenticated_client):
        """Verify sysinfo endpoint returns valid data."""
        try:
            data = authenticated_client.api_get("stat/sysinfo")
        except (httpx.HTTPStatusError, RuntimeError) as e:
            pytest.skip(f"Endpoint not available in test env: {e}")
        assert isinstance(data, list)

